---
title: introduction to hypothesis testing
author: ''
date: '2020-06-06'
slug: hypothesis-testing
categories: [statistics]
tags: []
description: ''
---



<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<p>There’s two main branches of statistics. One, where we collect and summarize the data we have. Other where we infer stuff about a population based on some sample data we collect. Hypothesis testing is one way to make that inference and so it is called inferential statistics. It can be confusing because there are endless terminilogies and rules to keep in mind but we can tackle it by breaking it down into smaller parts. Let’s get started!</p>
<p><img src="/post/hypothesis-testing_files/sampling.png" alt="final image" width="800" class="center"/></p>
<p>It starts with a hypothesis.</p>
<div id="what-is-hypothesis" class="section level2">
<h2>what is hypothesis?</h2>
<p>A hypothesis is simply just a question about something in the world around you that can be tested, either by experiment or observation. For example, you may be interested in knowing</p>
<ul>
<li>Does this medicine work better than the other?</li>
<li>Are women better at multitasking than men?</li>
<li>Will putting on a hat make me more productive?</li>
<li>Does coffee stunt your growth?</li>
</ul>
<p>Let’s say you’re interested in finding out if coffee stunts your growth. Instead of collecting real data, we just simulate data, assuming a real effect of Cohen’s <span class="math inline">\(\ d = 7/15\)</span></p>
<pre class="r"><code>set.seed(666)
 
x &lt;- rep(0:1, each = 50)
y1 &lt;- rnorm(50, mean = 175, sd = 15)
y2 &lt;- rnorm(50, mean = 170, sd = 15)        
dat &lt;- data.frame(y = c(y1, y2), x = x)
    
boxplot(y ~ x, dat, col = c(&#39;red&#39;, &#39;grey&#39;),
        xlab = &#39;coffee drinking status&#39;, ylab = &#39;height&#39;)</code></pre>
<p><img src="/post/hypothesis-testing_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>It seems like the the sample mean height of people that drink coffee is lower than those who don’t. Does that conclude our study? Should we call it a day?</p>
</div>
<div id="why-use-hypothesis-tests" class="section level2">
<h2>why use hypothesis tests?</h2>
<p>Let’s take a step back for a moment and restate why we should use a hypothesis test rather than just use the sample means to decide. Samples are a subset of the entire population. Sample statistics, such as the mean, are unlikely to equal the actual population values. The difference between the sample value and the population value is called sample error. If sample error causes the observed difference, the next time someone performs the same experiment the results might be different. Hypothesis testing incorporates estimates of the sampling error to help you make the correct decision.</p>
</div>
<div id="hypothesis-testing" class="section level2">
<h2>hypothesis testing</h2>
<p>In general terms the hypothesis can be:</p>
<p>The <strong>null hypothesis</strong>, denoted by <span class="math inline">\(H_0\)</span>, is a claim about a population characteristic that we initially assumed to be true.</p>
<p>The <strong>alternative hypothesis</strong>, denoted by <span class="math inline">\(H_1\)</span>, is the competing claim (we often set up hypotheses in hopes of showing that <span class="math inline">\(H_1\)</span> is true).</p>
<p>In carrying out a hypothesis test of <span class="math inline">\(H_0\)</span> versus <span class="math inline">\(H_1\)</span>, the hypothesis <span class="math inline">\(H_0\)</span> is rejected in favor of <span class="math inline">\(H_1\)</span> only if sample evidence strongly suggests that <span class="math inline">\(H_0\)</span> is false. If the sample does not provide such evidence, then <span class="math inline">\(H_0\)</span> is not rejected.</p>
<p>Therefore the two possible <strong>outcomes</strong> of a hypothesis test are <em>reject <span class="math inline">\(H_0\)</span></em> or <em>fail to reject <span class="math inline">\(H_0\)</span></em> (in some cases we say “fail to reject <span class="math inline">\(H_0\)</span> in favor of <span class="math inline">\(H_1\)</span>”).</p>
<p>:exclamation: :exclamation: failing to reject H0 does not mean that we accept H0. :exclamation: :exclamation:</p>
<p>:pencil: Many people have found an analogy between hypothesis testig and court room to be useful where</p>
<ul>
<li>A hypothesis test is like holding a trial (going to court)</li>
<li><span class="math inline">\(H_0\)</span> is assumed true (innocent) until ”proven” otherwise (guilty)</li>
<li>We have evidence to help us come to a decision (verdict)</li>
<li>Possible outcomes: Reject <span class="math inline">\(H_0\)</span> (guilty) or fail to reject <span class="math inline">\(H_0\)</span> (not guilty)</li>
</ul>
</div>
<div id="test-procedure" class="section level2">
<h2>test procedure</h2>
<p>Once hypotheses have been formulated, we need a method for using sample data to determine whether <span class="math inline">\(H_0\)</span> should be rejected or not. The method that we use is called a test procedure. Unfortunately, just as a jury may reach the wrong verdict in a trial, there is some chance that the use of a test procedure based on sample data may lead us to the wrong conclusion about a population characteristic.</p>
</div>
<div id="types-of-error" class="section level2">
<h2>types of error</h2>
<p>Type 1 error = <span class="math inline">\(P(reject H_0 / H_0 is true)\)</span></p>
<p>Type 2 error = <span class="math inline">\(P(fail to reject H_0 / H_1 is true)\)</span></p>
<p>In keeping with the jury example,</p>
<p><img src="/post/hypothesis-testing_files/errors.png" alt="final image" width="800" class="center"/></p>
</div>
<div id="power" class="section level2">
<h2>power</h2>
<p>The power of a hypothesis test is the probability of rejecting the null hypothesis given that the null hypothesis is false. When H0 is false, the power of the test is given by <span class="math inline">\(1 − \beta\)</span></p>
<p><em>power = probability of rejecting a null hypothesis</em>
= 1- <em>probability of not rejecting null hypothesis</em>
= <span class="math inline">\(1 − \beta\)</span>_</p>
</div>
<div id="what-is-a-hypothesis-test" class="section level2">
<h2>what is a hypothesis test?</h2>
<p>Now that we know the possible errors that we can make and how we should control them, we need to figure out exactly what it is that we mean by “evidence against <span class="math inline">\(H_0\)</span>”.</p>
<p>Evidence against the null hypothesis comes in the form of a <strong>test statistic</strong>, TS. A test statistic is a summary statistic that is a function of the sample data on which the conclusion to reject or fail to reject H0 is based.</p>
<p>Another important part of any hypothesis test is the <strong>decision rule</strong>. The decision rule is a procedure that tells us when to reject or not to reject H0 and is based on the test statistic.</p>
<p>The range of values over which we do not reject H0 is called the <strong>acceptance region</strong>. The range of values over which we reject H0 is called the <strong>rejection region</strong>. The number that divides the acceptance and rejection regions is called the <strong>critical value</strong>.</p>
<p><img src="/post/hypothesis-testing_files/one_sided.png" alt="final image" width="800" class="center"/></p>
<p><img src="/post/hypothesis-testing_files/two_sided.png" alt="final image" width="800" class="center"/></p>
<div id="back-to-example" class="section level3">
<h3>back to example:</h3>
<pre class="r"><code>summary(lm(y ~ x, dat))</code></pre>
<pre><code>## 
## Call:
## lm(formula = y ~ x, data = dat)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -43.120 -10.578   0.219  11.295  33.223 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  174.028      2.195  79.293   &lt;2e-16 ***
## x             -5.056      3.104  -1.629    0.107    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 15.52 on 98 degrees of freedom
## Multiple R-squared:  0.02636,    Adjusted R-squared:  0.01643 
## F-statistic: 2.653 on 1 and 98 DF,  p-value: 0.1065</code></pre>
<p>Template for conducting hypothesis testing</p>
<ul>
<li>Explicitly define the population parameter of interest.</li>
<li>State the null and alternative hypotheses.</li>
<li>State the significance level of the test.</li>
<li>State any necessary assumptions.</li>
<li>State the form of the test statistic and its null distribution</li>
<li>State the decision rule and/or compute the p-value and make a decision.</li>
<li>State your conclusions in the context of the problem.</li>
</ul>
</div>
</div>
